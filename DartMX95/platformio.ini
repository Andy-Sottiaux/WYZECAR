;
; PlatformIO Project Configuration for ESP32 Motor Control Firmware
; WYZECAR Vision-Based Human Following System
;
; This configuration file sets up the ESP32 WROOM development environment
; for motor control firmware that interfaces with DART-MX95 via UART
;

[env:esp32dev]
platform = espressif32
board = esp32dev
framework = arduino

; Serial monitor configuration
monitor_speed = 115200
monitor_filters = 
    esp32_exception_decoder
    time

; Build flags
build_flags = 
    -D CORE_DEBUG_LEVEL=3
    -D CONFIG_ARDUHAL_LOG_COLORS=1

; Required libraries
lib_deps = 
    ESP32Servo@^0.13.0

; Upload and monitor settings
upload_speed = 921600
upload_port = /dev/cu.usbserial*

; Optional: Over-the-Air updates
; upload_protocol = espota
; upload_port = 192.168.1.100

[env:esp32dev_debug]
platform = espressif32
board = esp32dev
framework = arduino
build_type = debug

; Debug configuration
debug_tool = esp-prog
debug_init_break = tbreak setup

; Serial monitor for debugging
monitor_speed = 115200
monitor_filters = 
    esp32_exception_decoder
    time
    log2file

; Enhanced build flags for debugging
build_flags = 
    -D CORE_DEBUG_LEVEL=5
    -D CONFIG_ARDUHAL_LOG_COLORS=1
    -D DEBUG_ESP_PORT=Serial
    -D DEBUG_ESP_WIFI
    -D DEBUG_ESP_HTTP_CLIENT
    -O0
    -ggdb3

; Required libraries
lib_deps = 
    ESP32Servo@^0.13.0

; Upload settings
upload_speed = 460800
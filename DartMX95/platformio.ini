;
; PlatformIO Project Configuration for ESP32 Motor Control Firmware
; WYZECAR Vision-Based Human Following System
;
; This configuration file sets up the ESP32 WROOM development environment
; for motor control firmware that interfaces with DART-MX95 via I2C
;

[env:esp32dev]
platform = espressif32
board = esp32dev
framework = arduino

; Serial monitor configuration
monitor_speed = 115200
monitor_filters = 
    esp32_exception_decoder
    time

; Build flags
build_flags = 
    -D CORE_DEBUG_LEVEL=3
    -D CONFIG_ARDUHAL_LOG_COLORS=1

; Required libraries
lib_deps = 
    ESP32Servo@^0.13.0
    https://github.com/gutierrezps/ESP32_I2C_Slave.git

; Upload and monitor settings - LOWERED SPEED for reliability
upload_speed = 115200
upload_port = /dev/cu.usbserial*

[env:esp32dev_debug]
platform = espressif32
board = esp32dev
framework = arduino
build_type = debug

; Debug configuration
debug_tool = esp-prog
debug_init_break = tbreak setup

; Serial monitor for debugging
monitor_speed = 115200
monitor_filters = 
    esp32_exception_decoder
    time
    log2file

; Enhanced build flags for debugging
build_flags = 
    -D CORE_DEBUG_LEVEL=5
    -D CONFIG_ARDUHAL_LOG_COLORS=1
    -D DEBUG_ESP_PORT=Serial
    -O0
    -ggdb3

; Required libraries - ADDED I2C SLAVE LIBRARY
lib_deps = 
    ESP32Servo@^0.13.0
    https://github.com/gutierrezps/ESP32_I2C_Slave.git

; Upload settings
upload_speed = 115200
